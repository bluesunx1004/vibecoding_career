
import streamlit as st
import io
import json

mbti_data = {
  "INTJ": {
    "famous": "일론 머스크 (추정)",
    "jobs": [
      {
        "name": "데이터 과학자",
        "major": "통계학, 컴퓨터공학",
        "description": "데이터를 수집·분석하고 패턴을 발견해 의사결정을 지원하는 전문가입니다.",
        "roadmap": [
          "고등학교: 수학, 과학 집중, Python 등 코딩 시작",
          "대학교: 통계학, 컴퓨터공학 전공 → 인공지능, 데이터마이닝 수강",
          "활동: Kaggle 대회 참여, 데이터 분석 인턴십"
        ],
        "tips": "수학과 과학 과목을 집중적으로 학습하고, 생물/화학 실험 동아리나 과학탐구대회에 참여해 보세요."
      },
      {
        "name": "전략 컨설턴트",
        "major": "경영학, 경제학",
        "description": "기업의 경영 문제를 진단하고 해결 방안을 제시하는 전문가입니다.",
        "roadmap": [
          "고등학교: 시사 토론, 논술 능력 향상",
          "대학교: 경영학 또는 경제학 전공 + 케이스 스터디 활동",
          "활동: 기업 인턴, 컨설팅 공모전 참가"
        ],
        "tips": "사회탐구 과목과 논술 능력을 기르고, 시사토론/경제캠프 등에 참여해 보세요."
      },
      {
        "name": "시스템 엔지니어",
        "major": "산업공학, 소프트웨어공학",
        "description": "복잡한 시스템을 설계하고 최적화하여 효율성을 높이는 직업입니다.",
        "roadmap": [
          "고등학교: 수학, 과학, 정보과목 중심",
          "대학교: 시스템 분석/설계, 프로그래밍 수강",
          "활동: 프로젝트 실습, 시스템 설계 인턴"
        ],
        "tips": "수학과 과학 과목을 집중적으로 학습하고, 생물/화학 실험 동아리나 과학탐구대회에 참여해 보세요."
      }
    ]
  },
  "ENFP": {
    "famous": "로버트 다우니 주니어 (추정)",
    "jobs": [
      {
        "name": "광고 기획자",
        "major": "광고홍보학, 미디어커뮤니케이션학",
        "description": "소비자의 관심을 끌 수 있는 광고를 기획·전략적으로 설계하는 전문가입니다.",
        "roadmap": [
          "고등학교: 미술, 사회탐구, 글쓰기 활동",
          "대학교: 광고홍보학 전공 후 포트폴리오 제작",
          "활동: 광고 공모전, 브랜드 캠페인 참여"
        ],
        "tips": "미술, 영상 제작, 글쓰기 능력을 키우고 콘텐츠 공모전에 참여해 보세요."
      },
      {
        "name": "심리상담사",
        "major": "심리학, 아동가족학",
        "description": "개인의 심리적 문제를 진단하고 상담을 통해 치유를 돕는 전문가입니다.",
        "roadmap": [
          "고등학교: 생윤, 사회문화 중심 수강",
          "대학교: 심리학과 진학 후 상담 실습과목 이수",
          "활동: 자원봉사, 또래 상담 동아리 활동"
        ],
        "tips": "사회문화, 생윤 같은 과목을 잘 다지고, 또래 상담, 멘토링 활동에 참여해보세요."
      },
      {
        "name": "콘텐츠 크리에이터",
        "major": "디지털미디어학, 영상학",
        "description": "온라인 플랫폼에서 영상·이미지·텍스트 콘텐츠를 제작하고 운영하는 창작자입니다.",
        "roadmap": [
          "고등학교: 영상 편집, 발표력 강화",
          "대학교: 콘텐츠 제작 관련 전공 및 실습 수강",
          "활동: 유튜브 채널 운영, 콘텐츠 공모전 참여"
        ],
        "tips": "미술, 영상 제작, 글쓰기 능력을 키우고 콘텐츠 공모전에 참여해 보세요."
      }
    ]
  },
  "INFJ": {
    "famous": "마틴 루터 킹 주니어 (추정)",
    "jobs": [
      {
        "name": "상담심리사",
        "major": "심리학, 상담학",
        "description": "내담자의 문제를 진단하고 심리적 안정과 성장을 돕는 전문가입니다.",
        "roadmap": [
          "고등학교: 사회문화, 생윤 등 인문계열 과목 중심",
          "대학교: 심리학 전공 → 상담심리 자격 과정 이수",
          "활동: 상담 관련 봉사활동, 사례 연구 세미나 참가"
        ],
        "tips": "사회문화, 생윤 같은 과목을 잘 다지고, 또래 상담, 멘토링 활동에 참여해보세요."
      },
      {
        "name": "고등학교 교사",
        "major": "교육학, 전공과목 교육과",
        "description": "청소년의 지적·정서적 성장을 도와주는 교육 전문가입니다.",
        "roadmap": [
          "고등학교: 전공 희망 교과 심화 학습",
          "대학교: 교육과정 + 교직 이수 → 교사 자격증 취득",
          "활동: 멘토링, 교육봉사, 교육 실습 참여"
        ],
        "tips": "사회문화, 생윤 같은 과목을 잘 다지고, 또래 상담, 멘토링 활동에 참여해보세요."
      },
      {
        "name": "비영리단체 활동가",
        "major": "사회복지학, 국제개발학",
        "description": "사회적 약자를 지원하고 공동체를 위한 프로젝트를 수행하는 활동가입니다.",
        "roadmap": [
          "고등학교: 사회문제 탐구 및 모의 유엔 활동",
          "대학교: 국제개발/사회복지학 전공 및 현장 실습",
          "활동: NGO 인턴, 공공기관 봉사활동"
        ],
        "tips": "관심 전공과 관련된 과목을 선택하고, 포트폴리오나 실습 중심의 활동을 많이 해보세요."
      }
    ]
  },
  "ISTJ": {
    "famous": "나탈리 포트만 (추정)",
    "jobs": [
      {
        "name": "회계사",
        "major": "회계학, 경영학",
        "description": "기업의 재무 상태를 관리하고 세무보고를 수행하는 재무 전문가입니다.",
        "roadmap": [
          "고등학교: 수학, 경제 과목 중심 학습",
          "대학교: 회계학 전공 → CPA 자격 준비",
          "활동: 재무 동아리, 모의 기업 경영 대회"
        ],
        "tips": "사회탐구 과목과 논술 능력을 기르고, 시사토론/경제캠프 등에 참여해 보세요."
      },
      {
        "name": "공무원",
        "major": "행정학, 정치외교학",
        "description": "국가 및 지방 행정을 수행하고 정책 집행에 참여하는 직업입니다.",
        "roadmap": [
          "고등학교: 한국사, 사회 교과 집중",
          "대학교: 행정학과 전공 + 공무원 시험 대비",
          "활동: 시사탐구 토론, 공공기관 인턴"
        ],
        "tips": "사회탐구 과목과 논술 능력을 기르고, 시사토론/경제캠프 등에 참여해 보세요."
      },
      {
        "name": "군무원",
        "major": "전산학, 기계공학 등 이공계열",
        "description": "국방 업무를 지원하는 민간 군무 전문가입니다.",
        "roadmap": [
          "고등학교: 이과 계열 수학·과학 집중",
          "대학교: 전산, 기계 등 군무직렬 전공",
          "활동: 국방부 연계 교육 프로그램 참여"
        ],
        "tips": "수학과 과학 과목을 집중적으로 학습하고, 생물/화학 실험 동아리나 과학탐구대회에 참여해 보세요."
      }
    ]
  },
  "ISFJ": {
    "famous": "비욘세 (추정)",
    "jobs": [
      {
        "name": "간호사",
        "major": "간호학",
        "description": "환자의 건강 회복과 돌봄을 책임지는 의료 전문가입니다.",
        "roadmap": [
          "고등학교: 생명과학, 화학 집중 이수",
          "대학교: 간호학과 진학 → 임상실습 병행",
          "활동: 병원 봉사, CPR 자격증 취득"
        ],
        "tips": "관심 전공과 관련된 과목을 선택하고, 포트폴리오나 실습 중심의 활동을 많이 해보세요."
      },
      {
        "name": "보건 행정가",
        "major": "보건행정학, 보건정책학",
        "description": "병원이나 보건소 등의 기관 운영을 지원하는 관리직입니다.",
        "roadmap": [
          "고등학교: 사회, 생명과학 계열 수강",
          "대학교: 보건행정학 전공",
          "활동: 공공기관 견학, 의료행정 인턴"
        ],
        "tips": "사회탐구 과목과 논술 능력을 기르고, 시사토론/경제캠프 등에 참여해 보세요."
      },
      {
        "name": "도서관 사서",
        "major": "문헌정보학",
        "description": "도서 및 정보자료를 분류·정리하고 이용자에게 제공하는 직업입니다.",
        "roadmap": [
          "고등학교: 국어, 역사, 정보 과목 흥미",
          "대학교: 문헌정보학 전공 → 사서 자격증 이수",
          "활동: 독서동아리, 자료관리 활동"
        ],
        "tips": "관심 전공과 관련된 과목을 선택하고, 포트폴리오나 실습 중심의 활동을 많이 해보세요."
      }
    ]
  },
  "INTP": {
    "famous": "빌 게이츠 (추정)",
    "jobs": [
      {
        "name": "AI 연구원",
        "major": "컴퓨터공학, 전산학",
        "description": "인공지능 알고리즘과 시스템을 개발하고 연구하는 전문가입니다.",
        "roadmap": [
          "고등학교: 수학, 정보 교과 심화",
          "대학교: 컴퓨터공학 전공 + 딥러닝 연구",
          "활동: AI 세미나, 연구 참여"
        ],
        "tips": "수학과 과학 과목을 집중적으로 학습하고, 생물/화학 실험 동아리나 과학탐구대회에 참여해 보세요."
      },
      {
        "name": "이론 물리학자",
        "major": "물리학",
        "description": "우주의 원리를 수학적으로 설명하고 탐구하는 과학자입니다.",
        "roadmap": [
          "고등학교: 물리학, 미적분학 심화",
          "대학교: 물리학 전공 → 대학원 진학",
          "활동: 학회 참가, 논문 발표"
        ],
        "tips": "관심 전공과 관련된 과목을 선택하고, 포트폴리오나 실습 중심의 활동을 많이 해보세요."
      },
      {
        "name": "UX 디자이너",
        "major": "산업디자인, 인간공학",
        "description": "사용자 경험을 중심으로 웹과 앱 설계를 담당하는 디자이너입니다.",
        "roadmap": [
          "고등학교: 미술, 수학, 컴퓨터 관련 수업",
          "대학교: 디자인 관련 전공 및 포트폴리오 제작",
          "활동: 앱 개발 프로젝트, UI 설계 인턴"
        ],
        "tips": "수학과 과학 과목을 집중적으로 학습하고, 생물/화학 실험 동아리나 과학탐구대회에 참여해 보세요."
      }
    ]
  },
  "ENFJ": {
    "famous": "버락 오바마 (추정)",
    "jobs": [
      {
        "name": "교육 컨설턴트",
        "major": "교육학, 심리학",
        "description": "학생과 학부모에게 맞춤형 진로 및 학습 상담을 제공하는 전문가입니다.",
        "roadmap": [
          "고등학교: 심리, 사회 과목 관심",
          "대학교: 교육학, 상담 전공 및 자격증 이수",
          "활동: 진로 상담 봉사, 워크숍 진행"
        ],
        "tips": "사회문화, 생윤 같은 과목을 잘 다지고, 또래 상담, 멘토링 활동에 참여해보세요."
      },
      {
        "name": "홍보 담당자",
        "major": "홍보학, 커뮤니케이션학",
        "description": "조직의 이미지를 관리하고 대외 소통을 총괄하는 커뮤니케이션 전문가입니다.",
        "roadmap": [
          "고등학교: 미디어, 글쓰기 수업 참여",
          "대학교: 홍보학 전공 + 언론 인턴",
          "활동: 블로그 운영, 발표대회 참가"
        ],
        "tips": "관심 전공과 관련된 과목을 선택하고, 포트폴리오나 실습 중심의 활동을 많이 해보세요."
      },
      {
        "name": "복지정책가",
        "major": "사회복지학, 정책학",
        "description": "사회복지를 위한 정책을 개발하고 집행하는 공공분야 전문가입니다.",
        "roadmap": [
          "고등학교: 사회, 경제 과목 이수",
          "대학교: 사회복지학과 진학, 공공기관 실습",
          "활동: NGO 활동, 정책 아이디어 공모전"
        ],
        "tips": "관심 전공과 관련된 과목을 선택하고, 포트폴리오나 실습 중심의 활동을 많이 해보세요."
      }
    ]
  }
}

st.title("🎯 MBTI 기반 진로 탐색 앱")

mbti_type = st.selectbox("당신의 MBTI 유형을 선택하세요:", sorted(mbti_data.keys()))

if mbti_type:
    selected = mbti_data[mbti_type]
    st.subheader(f"✅ {mbti_type} 유형 추천 직업")
    st.markdown(f"📌 유명한 {mbti_type} 유형 인물: **{selected['famous']}**")

    result_text = f"[MBTI 유형: {mbti_type}]\n추천 직업:\n"

    for job in selected["jobs"]:
        with st.expander(f"🔍 {job['name']} (관련 학과: {job['major']})"):
            st.markdown(f"**직업 설명**: {job['description']}")
            st.markdown("**🗺️ 진학 로드맵:**")
            for step in job["roadmap"]:
                st.write(f"• {step}")
            st.markdown("**📌 선생님의 입시 팁:**")
            st.info(job["tips"])

        result_text += f"\n🔹 {job['name']} (관련 학과: {job['major']})\n"
        result_text += f"설명: {job['description']}\n"
        result_text += "진학 로드맵:\n" + "\n".join(f"- {step}" for step in job["roadmap"]) + "\n"
        result_text += f"입시 팁: {job['tips']}\n"

    txt_file = io.StringIO(result_text)
    st.download_button(
        label="📥 추천 결과 TXT 다운로드",
        data=txt_file.getvalue(),
        file_name=f"{mbti_type}_진로추천_상세정보.txt",
        mime="text/plain"
    )

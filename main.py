import streamlit as st
import io
st.title('κ³ λ“±ν•™μƒμ„ μ„ν• μ§„λ΅νƒμƒ‰ μ•±')

# MBTIλ³„ μ¶”μ² μ§μ—… λ° κ΄€λ ¨ ν•™κ³Ό
mbti_data = {
    "INTJ": {
        "jobs": [
            ("λ°μ΄ν„° κ³Όν•™μ", "ν†µκ³„ν•™, μ»΄ν“¨ν„°κ³µν•™"),
            ("μ „λµ μ»¨μ„¤ν„΄νΈ", "κ²½μν•™, κ²½μ ν•™"),
            ("μ‹μ¤ν… μ„¤κ³„μ", "μ†ν”„νΈμ›¨μ–΄κ³µν•™, μ‚°μ—…κ³µν•™")
        ],
        "famous": "μΌλ΅  λ¨Έμ¤ν¬ (μ¶”μ •)"
    },
    "INTP": {
        "jobs": [
            ("AI κ°λ°μ", "μ»΄ν“¨ν„°κ³µν•™, μ „μ‚°ν•™"),
            ("μ—°κµ¬ κ³Όν•™μ", "λ¬Όλ¦¬ν•™, μƒλ…κ³Όν•™"),
            ("κΈ°μ  λ¶„μ„κ°€", "μ •λ³΄μ‹μ¤ν…, μ‚°μ—…κ³µν•™")
        ],
        "famous": "λΉ κ²μ΄μΈ  (μ¶”μ •)"
    },
    "ENTJ": {
        "jobs": [
            ("κΈ°μ—… CEO", "κ²½μν•™, κ²½μ ν•™"),
            ("ν”„λ΅μ νΈ λ§¤λ‹μ €", "μ‚°μ—…κ³µν•™, κ²½μν•™"),
            ("λ³€νΈμ‚¬", "λ²•ν•™, μ •μΉμ™Έκµν•™")
        ],
        "famous": "μ¤ν‹°λΈ μ΅μ¤ (μ¶”μ •)"
    },
    "ENTP": {
        "jobs": [
            ("μ¤νƒ€νΈμ—… μ°½μ—…κ°€", "κ²½μν•™, μ°½μ—…ν•™"),
            ("κ΄‘κ³  κΈ°νμ", "κ΄‘κ³ ν™λ³΄ν•™, λ―Έλ””μ–΄ν•™"),
            ("κΈ°μ  μ»¨μ„¤ν„΄νΈ", "κ³µν•™κ³„μ—΄, μ‚°μ—…λ””μμΈ")
        ],
        "famous": "ν† λ§μ¤ μ—λ””μ¨ (μ¶”μ •)"
    },
    "INFJ": {
        "jobs": [
            ("μƒλ‹΄μ‹¬λ¦¬μ‚¬", "μ‹¬λ¦¬ν•™, μ‚¬νλ³µμ§€ν•™"),
            ("κµμ‚¬", "κµμ΅ν•™, κµ­μ–΄κµμ΅κ³Ό λ“±"),
            ("μ‘κ°€", "κµ­λ¬Έν•™, λ¬Έμμ°½μ‘κ³Ό")
        ],
        "famous": "λ§ν‹΄ λ£¨ν„° ν‚Ή μ£Όλ‹μ–΄ (μ¶”μ •)"
    },
    "INFP": {
        "jobs": [
            ("μΌλ¬μ¤νΈλ μ΄ν„°", "λ””μμΈν•™, νν™”κ³Ό"),
            ("μ‹μΈ/μ†μ„¤κ°€", "λ¬Έμμ°½μ‘κ³Ό, κµ­λ¬Έν•™"),
            ("μ‚¬νμ΄λ™κ°€", "μ‚¬νν•™, μ •μΉμ™Έκµν•™")
        ],
        "famous": "μλ¦¬μ—„ μ…°μµμ¤ν”Όμ–΄ (μ¶”μ •)"
    },
    "ENFJ": {
        "jobs": [
            ("ν™λ³΄ μ „λ¬Έκ°€", "κ΄‘κ³ ν™λ³΄ν•™, μ»¤λ®¤λ‹μΌ€μ΄μ…ν•™"),
            ("κµμ΅μ", "κµμ΅ν•™, μ‹¬λ¦¬ν•™"),
            ("λΉ„μλ¦¬λ‹¨μ²΄ ν™λ™κ°€", "μ‚¬νλ³µμ§€ν•™, κµ­μ ν•™")
        ],
        "famous": "λ²„λ½ μ¤λ°”λ§ (μ¶”μ •)"
    },
    "ENFP": {
        "jobs": [
            ("μ½ν…μΈ  ν¬λ¦¬μ—μ΄ν„°", "λ―Έλ””μ–΄ν•™, μμƒν•™"),
            ("μ‹¬λ¦¬μƒλ‹΄μ‚¬", "μ‹¬λ¦¬ν•™, μ•„λ™κ°€μ΅±ν•™"),
            ("κ΄‘κ³  κΈ°νμ", "κ΄‘κ³ ν™λ³΄ν•™, λ””μμΈν•™")
        ],
        "famous": "λ΅λ²„νΈ λ‹¤μ°λ‹ μ£Όλ‹μ–΄ (μ¶”μ •)"
    },
    "ISTJ": {
        "jobs": [
            ("κ³µλ¬΄μ›", "ν–‰μ •ν•™, μ •μΉμ™Έκµν•™"),
            ("νκ³„μ‚¬", "κ²½μν•™, νκ³„ν•™"),
            ("κ²½μ°°κ΄€", "κ²½μ°°ν–‰μ •ν•™, λ²•ν•™")
        ],
        "famous": "λ‚νƒλ¦¬ ν¬νΈλ§ (μ¶”μ •)"
    },
    "ISFJ": {
        "jobs": [
            ("κ°„νΈμ‚¬", "κ°„νΈν•™κ³Ό"),
            ("μ΄λ“±ν•™κµ κµμ‚¬", "μ΄λ“±κµμ΅κ³Ό"),
            ("ν–‰μ •μ‚¬λ¬΄μ›", "ν–‰μ •ν•™, λ¬Έν—μ •λ³΄ν•™")
        ],
        "famous": "λΉ„μμ„Έ (μ¶”μ •)"
    },
    "ESTJ": {
        "jobs": [
            ("κµ°μΈ", "κµ°μ‚¬ν•™, κµ­λ°©ν•™"),
            ("μ€ν–‰μ›", "κ²½μ ν•™, κ²½μν•™"),
            ("κΈ°μ—… κ΄€λ¦¬μ", "κ²½μν•™, μ‚°μ—…κ³µν•™")
        ],
        "famous": "λ―Έμ…Έ μ¤λ°”λ§ (μ¶”μ •)"
    },
    "ESFJ": {
        "jobs": [
            ("λ³‘μ› μ½”λ””λ„¤μ΄ν„°", "λ³΄κ±΄ν–‰μ •ν•™, κ°„νΈν•™"),
            ("μμ–‘μ‚¬", "μ‹ν’μμ–‘ν•™"),
            ("μ μΉμ› κµμ‚¬", "μ μ•„κµμ΅κ³Ό")
        ],
        "famous": "ν…μΌλ¬ μ¤μ„ν”„νΈ (μ¶”μ •)"
    },
    "ISTP": {
        "jobs": [
            ("κΈ°κ³„ μ—”μ§€λ‹μ–΄", "κΈ°κ³„κ³µν•™"),
            ("κ²½νΈμ›", "κ²½νΈλ³΄μ•ν•™"),
            ("μ •λΉ„μ‚¬", "μλ™μ°¨κ³µν•™, κΈ°κ³„μ„¤λΉ„κ³Ό")
        ],
        "famous": "ν΄λ¦°νΈ μ΄μ¤νΈμ°λ“ (μ¶”μ •)"
    },
    "ISFP": {
        "jobs": [
            ("ν¨μ…λ””μμ΄λ„", "ν¨μ…λ””μμΈν•™"),
            ("μ‚¬μ§„μ‘κ°€", "μ‚¬μ§„μμƒν•™"),
            ("λ³΄μ„λ””μμ΄λ„", "κ·€κΈμ†λ””μμΈκ³Ό")
        ],
        "famous": "λ§μ΄ν΄ μ­μ¨ (μ¶”μ •)"
    },
    "ESTP": {
        "jobs": [
            ("μ„ΈμΌμ¦ λ§¤λ‹μ €", "κ²½μν•™, λ§μΌ€ν…ν•™"),
            ("μ‘κΈ‰κµ¬μ΅°μ‚¬", "μ‘κΈ‰κµ¬μ΅°ν•™κ³Ό"),
            ("μ΄λ²¤νΈ ν”λλ„", "νΈν…”κ²½μν•™, κ΄€κ΄‘ν•™")
        ],
        "famous": "μ–΄λ‹μ¤νΈ ν—¤λ°μ›¨μ΄ (μ¶”μ •)"
    },
    "ESFP": {
        "jobs": [
            ("MC/λ°©μ†΅μΈ", "λ°©μ†΅μ—°μκ³Ό"),
            ("λ°°μ°", "μ—°κ·Ήμν™”κ³Ό"),
            ("κ΄€κ΄‘κ°€μ΄λ“", "κ΄€κ΄‘κ²½μν•™")
        ],
        "famous": "λ§μΌλ¦¬ μ‚¬μ΄λ¬μ¤ (μ¶”μ •)"
    }
}

# Streamlit UI
st.title("π― MBTI κΈ°λ° μ§„λ΅ μ¶”μ² μ•±")

# MBTI μ„ νƒ
mbti_type = st.selectbox("λ‹Ήμ‹ μ MBTI μ ν•μ„ μ„ νƒν•μ„Έμ”:", sorted(mbti_data.keys()))

if mbti_type:
    st.subheader(f"β… {mbti_type} μ ν•μ—κ² μ¶”μ²ν•λ” μ§μ—…κ³Ό κ΄€λ ¨ ν•™κ³Ό")
    recommendations = mbti_data[mbti_type]["jobs"]
    famous = mbti_data[mbti_type]["famous"]

    output_text = f"[MBTI μ ν•: {mbti_type}]\n\nμ¶”μ² μ§μ—… λ° κ΄€λ ¨ ν•™κ³Ό:\n"

    for i, (job, major) in enumerate(recommendations, 1):
        st.markdown(f"**{i}. {job}** β€” _κ΄€λ ¨ ν•™κ³Ό: {major}_")
        output_text += f"{i}. {job} (κ΄€λ ¨ ν•™κ³Ό: {major})\n"

    st.markdown("---")
    st.markdown(f"π“ **μ λ…ν• {mbti_type} μ ν• μΈλ¬Ό:** {famous}")
    output_text += f"\nμ λ…ν• {mbti_type} μ ν• μΈλ¬Ό: {famous}\n"

    # ν…μ¤νΈ νμΌλ΅ μ €μ¥
    txt_file = io.StringIO(output_text)
    st.download_button(
        label="π“¥ μ¶”μ² κ²°κ³Ό TXT νμΌ λ‹¤μ΄λ΅λ“",
        data=txt_file.getvalue(),
        file_name=f"{mbti_type}_μ§„λ΅μ¶”μ².txt",
        mime="text/plain"
    )

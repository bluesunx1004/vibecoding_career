import streamlit as st

# MBTI 질문 리스트
questions = [
    ("나는 사람들과 함께 있을 때 에너지가 생긴다.", "E", "I"),
    ("나는 혼자 있는 시간이 필요하다.", "I", "E"),
    ("나는 실제적인 것에 관심이 많다.", "S", "N"),
    ("나는 상상하는 것을 즐긴다.", "N", "S"),
    ("나는 논리적으로 사고한다.", "T", "F"),
    ("나는 감정을 중시한다.", "F", "T"),
    ("나는 계획 세우기를 좋아한다.", "J", "P"),
    ("나는 유연하고 즉흥적인 것을 선호한다.", "P", "J"),
    ("나는 여러 사람과 어울리는 걸 좋아한다.", "E", "I"),
    ("나는 직감에 의존하는 편이다.", "N", "S"),
    ("나는 결정을 내릴 때 감정을 고려한다.", "F", "T"),
    ("나는 일정을 정해두는 걸 좋아한다.", "J", "P"),
]

# MBTI 설명 사전
# MBTI 상세 설명 사전
mbti_descriptions = {
    "ISTJ": "🔹 ISTJ - 신중하고 책임감 있는 관리자형\n현실적이고 체계적인 사고를 바탕으로 일을 철저히 수행합니다. 전통과 규칙을 중요하게 여기며 신뢰할 수 있는 존재입니다.",
    "ISFJ": "🔹 ISFJ - 성실하고 따뜻한 보호자형\n조용하고 온화하며, 타인의 감정을 잘 살피는 배려심 깊은 성격입니다. 헌신적이고 책임감이 강합니다.",
    "INFJ": "🔹 INFJ - 통찰력 있고 헌신적인 이상주의자형\n깊은 통찰력과 공감을 바탕으로 사람들을 돕고자 하며, 비전을 가지고 조용히 영향력을 발휘합니다.",
    "INTJ": "🔹 INTJ - 전략적이고 논리적인 사색가형\n독창적이고 분석적인 사고를 통해 장기적인 계획을 수립하며, 목표 달성을 위해 철저하게 노력합니다.",
    "ISTP": "🔹 ISTP - 과묵하고 논리적인 실용주의자형\n문제 해결 능력이 뛰어나고, 다양한 도구나 기계에 대한 이해력이 높습니다. 즉흥적이면서도 현실적인 성향입니다.",
    "ISFP": "🔹 ISFP - 온화하고 겸손한 예술가형\n자연과 예술을 사랑하며, 조용하고 겸손하지만 자기만의 고유한 가치관을 지니고 있습니다.",
    "INFP": "🔹 INFP - 이상적이고 성실한 중재자형\n내면의 가치와 의미를 중요하게 여기며, 조화와 정의를 추구합니다. 창의력과 상상력이 풍부합니다.",
    "INTP": "🔹 INTP - 논리적이고 호기심 많은 사색가형\n이론과 아이디어에 관심이 많고, 논리적인 분석을 통해 독창적인 해결책을 탐구합니다.",
    "ESTP": "🔹 ESTP - 친화력 있고 에너지 넘치는 활동가형\n즉흥적이고 현실적인 성격으로 사람들과 쉽게 어울리며, 도전적인 상황에서 뛰어난 실행력을 발휘합니다.",
    "ESFP": "🔹 ESFP - 사교적이고 수용적인 연예인형\n즐겁고 따뜻한 분위기를 만들어내는 데 능하며, 주변 사람들에게 긍정적인 에너지를 전파합니다.",
    "ENFP": "🔹 ENFP - 열정적이고 창의적인 활동가형\n새로운 아이디어와 사람들에 대한 관심이 많으며, 자유롭고 감성적인 성향을 바탕으로 변화를 주도합니다.",
    "ENTP": "🔹 ENTP - 재치 있고 풍부한 아이디어형\n말솜씨가 좋고 지적 호기심이 많으며, 논쟁을 즐기며 새로운 관점에서 문제를 접근하는 데 능합니다.",
    "ESTJ": "🔹 ESTJ - 현실적이고 조직적인 관리자형\n리더십이 강하고 책임감이 있으며, 질서와 효율을 중시하는 실용적인 성격입니다.",
    "ESFJ": "🔹 ESFJ - 사람을 잘 돌보는 사교적인 조정자형\n타인의 필요에 민감하며, 협력과 조화를 중요하게 여기는 따뜻하고 책임감 있는 성격입니다.",
    "ENFJ": "🔹 ENFJ - 따뜻하고 책임감 있는 지도자형\n공감 능력이 뛰어나고 리더십이 있으며, 타인의 성장을 진심으로 도와주려는 헌신적인 마음을 지녔습니다.",
    "ENTJ": "🔹 ENTJ - 단호하고 지도력 있는 통솔자형\n체계적이고 전략적인 사고로 목표를 설정하고, 추진력과 결단력으로 사람들을 이끌어갑니다.",
}


# 점수 초기화
scores = {
    "E": 0, "I": 0,
    "S": 0, "N": 0,
    "T": 0, "F": 0,
    "J": 0, "P": 0,
}

st.title("🧠 MBTI 성격유형 검사")

st.write("다음 질문에 답하여 본인의 MBTI 성격 유형을 확인해보세요.")

# 질문 출력
for i, (question, option_a, option_b) in enumerate(questions):
    answer = st.radio(f"{i+1}. {question}", (option_a, option_b), key=i)
    scores[answer] += 1

if st.button("결과 보기"):
    mbti = ""
    mbti += "E" if scores["E"] >= scores["I"] else "I"
    mbti += "S" if scores["S"] >= scores["N"] else "N"
    mbti += "T" if scores["T"] >= scores["F"] else "F"
    mbti += "J" if scores["J"] >= scores["P"] else "P"

    st.subheader(f"당신의 MBTI 유형은: {mbti}")
    st.write(f"👉 {mbti_descriptions.get(mbti, '설명이 없습니다.')}")

